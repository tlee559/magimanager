# =============================================================================
# MagiManager Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values for local development.
# For production, set these in Vercel Dashboard > Project Settings > Environment Variables
#
# IMPORTANT: Never commit .env.local or any file containing real secrets!
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE (Required)
# -----------------------------------------------------------------------------
# Local development: Use your local PostgreSQL
DATABASE_URL="postgresql://user@localhost:5432/magimanager?schema=public"
DIRECT_URL="postgresql://user@localhost:5432/magimanager?schema=public"

# Production (Supabase with Transaction Pooler):
# DATABASE_URL="postgres://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:6543/postgres?pgbouncer=true"
# DIRECT_URL="postgres://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres"

# -----------------------------------------------------------------------------
# AUTHENTICATION (Required)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-secret-key-here"

# Local development URLs (per-app):
# apps/abra/.env.local:  NEXTAUTH_URL="http://localhost:3000"
# apps/kadabra/.env.local: NEXTAUTH_URL="http://localhost:3001"
# apps/login/.env.local: NEXTAUTH_URL="http://localhost:3002"

# Production: Set in Vercel per-app
# NEXTAUTH_URL="https://abra.magimanager.com" (for abra)
# NEXTAUTH_URL="https://magimanager.com" (for kadabra)
# NEXTAUTH_URL="https://login.magimanager.com" (for login)

# -----------------------------------------------------------------------------
# PUBLIC URLs (Required for SSO)
# -----------------------------------------------------------------------------
# Local development:
NEXT_PUBLIC_ABRA_URL="http://localhost:3000"
NEXT_PUBLIC_KADABRA_URL="http://localhost:3001"
NEXT_PUBLIC_LOGIN_URL="http://localhost:3002"

# Production (set in Vercel):
# NEXT_PUBLIC_ABRA_URL="https://abra.magimanager.com"
# NEXT_PUBLIC_KADABRA_URL="https://magimanager.com"
# NEXT_PUBLIC_LOGIN_URL="https://login.magimanager.com"

# -----------------------------------------------------------------------------
# GOOGLE ADS OAUTH (Required for Google Ads features)
# -----------------------------------------------------------------------------
GOOGLE_ADS_CLIENT_ID="your-client-id.apps.googleusercontent.com"
GOOGLE_ADS_CLIENT_SECRET="your-client-secret"
GOOGLE_ADS_DEVELOPER_TOKEN="your-developer-token"

# -----------------------------------------------------------------------------
# TOKEN ENCRYPTION (Required)
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
TOKEN_ENCRYPTION_KEY="your-64-character-hex-key"

# -----------------------------------------------------------------------------
# AI FEATURES (Optional)
# -----------------------------------------------------------------------------
GEMINI_API_KEY="your-gemini-api-key"

# -----------------------------------------------------------------------------
# NOTIFICATIONS (Optional)
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN="your-telegram-bot-token"
TELEGRAM_CHAT_ID="your-telegram-chat-id"

# =============================================================================
# PRODUCTION CHECKLIST
# =============================================================================
# Before deploying, ensure ALL of the following are set in Vercel:
#
# [ ] DATABASE_URL - Supabase pooler URL (port 6543, ?pgbouncer=true)
# [ ] DIRECT_URL - Supabase direct URL (port 5432)
# [ ] NEXTAUTH_SECRET - Strong random secret
# [ ] NEXTAUTH_URL - Production URL for each app
# [ ] NEXT_PUBLIC_ABRA_URL - https://abra.magimanager.com
# [ ] NEXT_PUBLIC_KADABRA_URL - https://magimanager.com
# [ ] NEXT_PUBLIC_LOGIN_URL - https://login.magimanager.com
# [ ] TOKEN_ENCRYPTION_KEY - Strong random hex key
# [ ] GOOGLE_ADS_* - If using Google Ads features
#
# NEVER include "localhost" or "127.0.0.1" in production environment variables!
# The app will throw an error at startup if localhost is detected in production.
# =============================================================================
